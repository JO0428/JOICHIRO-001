<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>JOICHIRO</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap" rel="stylesheet">
  <style>
.hover-slide {
  display: inline-block;
  transition: transform 0.3s ease;
}

.hover-slide:hover {
  transform: translateX(0px);
	color: darkgray;
}


  </style>
</head>
<body>

  <!-- メインギャラリー -->
 <div class="scroll-container">
  <div class="gallery">
    <div class="image-container slideshow-container">
      <div class="slide-track" id="slideTrack">
        <figure>
          <img src="img-01.png" alt="VEGETAWARS" data-gallery="vege">
          <figcaption>VEGETAWARS (COMIC ART)</figcaption>
        </figure>
        <figure>
          <img src="img-02.png" alt="アホン" data-gallery="AHO">
          <figcaption>アホン (COMEDY ART)</figcaption>
        </figure>
        <figure>
          <img src="img-03.png" alt="いきもじ" data-gallery="IK">
          <figcaption>いきもじ (JAPANESE ART)</figcaption>
        </figure>
        <figure>
          <img src="img-04.png" alt="other art 2019~2025" data-gallery="ON">
          <figcaption>2019~2025 (OTHER ART)</figcaption>
        </figure>
        <figure>
          <img src="img-05.png" alt="日本満開" data-gallery="jap">
          <figcaption>日本満開 (JAPANESE ART)</figcaption>
        </figure>
        <figure>
          <img src="img-06.png" alt="怪欲" data-gallery="kai">
          <figcaption>怪欲 (JAPANESE ART)</figcaption>
        </figure>
      </div>
      <div class="slideshow-controls">
        <button class="slideshow-button" id="prevBtn">＜</button>
        <button class="slideshow-button" id="toggleBtn">⏸</button>
        <button class="slideshow-button" id="nextBtn">＞</button>
      </div>
    </div>
  </div>
</div>


  <!-- フッター -->
  <footer>
    <div class="footer-column">
   <div class="name" id="joyArtTrigger">
  <span class="jo">JOICHIRO</span>
  <span class="art"></span>
</div>

  <div class="middle-text">
  <p id="comicArt" class="">COMIC ART</p>
  <div id="comicArtDisplay" class="display-text"></div>

  <p id="comedyArt">COMEDY ART</p>
  <div id="comedyArtDisplay" class="display-text"></div>

  <p id="japaneseArt">JAPANESE ART</p>
  <div id="japaneseArtDisplay" class="display-text"></div>
	
	    <p id="otherART">OTHER ART</p>
  <div id="other" class="display-text"></div>
</div>
      <div class="contacts">
     <a href="mailto:going0054wer@gmail.com">Mail</a>
        <a href="https://instagram.com/butankamen">Instagram</a>
      </div>
    </div>
  </footer>

  <!-- ローダー -->
  <div id="loader">
    <div class="loader-content">
      <img src="loading.gif" alt="Loading..." />
      <p>Loading...</p>
    </div>
  </div>

  <!-- 通常モーダル -->
  <div id="galleryModal">
    <div id="galleryModalContent">
      <button id="modalPrev" class="modal-nav-button" aria-label="前の画像">‹</button>
      <img id="galleryImage" src="" alt="ギャラリー画像" />
      <button id="modalNext" class="modal-nav-button" aria-label="次の画像">›</button>
      <button id="modalClose" style="position:absolute; top:10px; right:10px;">×</button>
    </div>
  </div>

  <!-- 横長モーダル（IK用） -->
  <div class="wide-slideshow" id="wideSlideshow">
    <button class="wide-prev">‹</button>
    <div class="wide-scroll-container"></div>
    <button class="wide-next">›</button>
    <button class="close-btn">×</button>
  </div>
<script>
  // すべてのテキスト要素に hover-slide を追加（読み込み時）
  window.addEventListener('DOMContentLoaded', () => {
    const targets = document.querySelectorAll('p, a, span, div.name');
    targets.forEach(el => {
      if (el.textContent.trim().length > 0) {
        el.classList.add('hover-slide');
      }
    });
  });
</script>

  <script>
    // ローダー処理
    const loader = document.getElementById('loader');
    const startTime = Date.now();
    window.addEventListener('load', () => {
      const elapsed = Date.now() - startTime;
      const remaining = 3000 - elapsed;
      setTimeout(() => {
        loader.classList.add('fade-out');
        setTimeout(() => loader.remove(), 500);
      }, remaining > 0 ? remaining : 0);
    });

    // スライドショー制御
    const slideTrack = document.getElementById('slideTrack');
    const toggleBtn = document.getElementById('toggleBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const slides = slideTrack.children;
    let currentIndex = 0;
    let isPaused = false;
    let autoSlide;

    // 自動スライド開始
    function startAutoSlide() {
      if (!autoSlide) {
        autoSlide = setInterval(showNextSlide, 3000);
        toggleBtn.textContent = '⏸';
        isPaused = false;
      }
    }

    // 自動スライド停止
    function pauseSlideshow() {
      if (autoSlide) {
        clearInterval(autoSlide);
        autoSlide = null;
      }
      isPaused = true;
      toggleBtn.textContent = '▶';
    }

    function updateSlidePosition() {
      slideTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    function showNextSlide() {
      currentIndex = (currentIndex + 1) % slides.length;
      updateSlidePosition();
    }

    function showPrevSlide() {
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      updateSlidePosition();
    }

    toggleBtn.addEventListener('click', () => {
      if (isPaused) {
        startAutoSlide();
      } else {
        pauseSlideshow();
      }
    });

    nextBtn.addEventListener('click', () => {
      showNextSlide();
      if (!isPaused) {
        // 自動スライドリセット（クリック後も自動スライド継続）
        pauseSlideshow();
        startAutoSlide();
      }
    });

    prevBtn.addEventListener('click', () => {
      showPrevSlide();
      if (!isPaused) {
        pauseSlideshow();
        startAutoSlide();
      }
    });

    // 初期自動スライド開始
    startAutoSlide();

    // ギャラリーデータ
    const galleries = {
      vege: Array.from({ length: 22 }, (_, i) => `vege${i + 1}.png`),
      AHO: Array.from({ length: 9 }, (_, i) => `AHO-${String(i + 1).padStart(2, '0')}.png`),
      IK: ['IK-01.png', 'IK-02.png', 'IK-03.png','IK-04.png'],
      ON: Array.from({ length: 8}, (_, i) => `ON-${String(i + 1).padStart(2, '0')}.png`),
      jap: Array.from({ length: 5}, (_, i) => `JAP-${String(i + 1).padStart(2, '0')}.png`),
      kai: Array.from({ length: 6 }, (_, i) => `KAI-${String(i + 1).padStart(2, '0')}.png`)
    };

    // モーダル要素
    const modal = document.getElementById('galleryModal');
    const modalImage = document.getElementById('galleryImage');
    const modalPrevBtn = document.getElementById('modalPrev');
    const modalNextBtn = document.getElementById('modalNext');
    const modalCloseBtn = document.getElementById('modalClose');

    // 横長モーダル要素
    const wideSlideshow = document.getElementById('wideSlideshow');
    const wideScrollContainer = document.querySelector('.wide-scroll-container');
    const widePrevBtn = document.querySelector('.wide-prev');
    const wideNextBtn = document.querySelector('.wide-next');
    const wideCloseBtn = document.querySelector('.wide-slideshow .close-btn');

    // 通常モーダルを開く関数
    let modalGallery = [];
    let modalIndex = 0;
    function openModal(name) {
  modalGallery = galleries[name] || [];
  if (!modalGallery.length) return;
  modalIndex = 0;
  modalImage.src = modalGallery[modalIndex];
  modal.style.display = 'flex';

  // ✅ 左右ボタンを表示
  document.getElementById('modalPrev').style.display = 'block';
  document.getElementById('modalNext').style.display = 'block';

  pauseSlideshow();
}


    function closeModal() {
      modal.style.display = 'none';
      resumeSlideshowIfNoModal(); // 閉じたらスライドショー再開判定
    }

    function modalNext() {
      modalIndex = (modalIndex + 1) % modalGallery.length;
      modalImage.src = modalGallery[modalIndex];
    }

    function modalPrev() {
      modalIndex = (modalIndex - 1 + modalGallery.length) % modalGallery.length;
      modalImage.src = modalGallery[modalIndex];
    }

    // 横長モーダルを開く関数
    function openWideModal(images) {
      wideScrollContainer.innerHTML = '';
      images.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        wideScrollContainer.appendChild(img);
      });
      wideSlideshow.classList.add('active');
      document.body.style.overflow = 'hidden';
      pauseSlideshow(); // 開いたらスライドショー停止
    }

    // 閉じたら再開判定
    function resumeSlideshowIfNoModal() {
      if (modal.style.display !== 'flex' && !wideSlideshow.classList.contains('active')) {
        startAutoSlide();
      }
    }

    // モーダルナビゲーションイベント
    modalNextBtn.addEventListener('click', modalNext);
    modalPrevBtn.addEventListener('click', modalPrev);
    modalCloseBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', e => {
      if (e.target === modal) closeModal();
    });

    // キーボード操作
    document.addEventListener('keydown', e => {
      if (modal.style.display === 'flex') {
        if (e.key === 'ArrowRight') modalNext();
        else if (e.key === 'ArrowLeft') modalPrev();
        else if (e.key === 'Escape') closeModal();
      }
      if (wideSlideshow.classList.contains('active')) {
        if (e.key === 'Escape') {
          closeWideModal();
        }
      }
    });

    // 横長モーダルのナビゲーション
    const scrollAmount = 400;
    widePrevBtn.addEventListener('click', () => {
      wideScrollContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
    });
    wideNextBtn.addEventListener('click', () => {
      wideScrollContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
    });
    wideCloseBtn.addEventListener('click', () => {
      closeWideModal();
    });
    wideSlideshow.addEventListener('click', e => {
      if (e.target === wideSlideshow) {
        closeWideModal();
      }
    });

    function closeWideModal() {
      wideSlideshow.classList.remove('active');
      document.body.style.overflow = '';
      resumeSlideshowIfNoModal();
    }

slideTrack.querySelectorAll('img').forEach(img => {
  img.addEventListener('click', () => {
    const galleryName = img.getAttribute('data-gallery');
    if (!galleryName) return;

    if (galleryName === 'IK') {
      openWideModal(galleries[galleryName]);
    } else {
      openModal(galleryName);
    }
  });
});


// 🔁 表示エリア管理
const sections = {
  comicArtDisplay: document.getElementById('comicArtDisplay'),
  comedyArtDisplay: document.getElementById('comedyArtDisplay'),
  japaneseArtDisplay: document.getElementById('japaneseArtDisplay'),
  other: document.getElementById('other'),
};

function clearOthers(exceptId) {
  Object.keys(sections).forEach(id => {
    if (id !== exceptId) {
      sections[id].innerHTML = '';
    }
  });
}

document.getElementById('comicArt').addEventListener('click', () => {
  const display = sections.comicArtDisplay;
  if (display.innerHTML.trim() !== '') {
    display.innerHTML = '';
  } else {
    clearOthers('comicArtDisplay');
    display.innerHTML = '<span class="clickable-text hover-slide" data-gallery="vege">・VEGETAWARS</span>';
    attachGalleryEvents();
  }
});

document.getElementById('comedyArt').addEventListener('click', () => {
  const display = sections.comedyArtDisplay;
  if (display.innerHTML.trim() !== '') {
    display.innerHTML = '';
  } else {
    clearOthers('comedyArtDisplay');
    display.innerHTML = '<span class="clickable-text hover-slide" data-gallery="AHO">・あほん</span>';
    attachGalleryEvents();
  }
});

document.getElementById('japaneseArt').addEventListener('click', () => {
  const display = sections.japaneseArtDisplay;
  if (display.innerHTML.trim() !== '') {
    display.innerHTML = '';
  } else {
    clearOthers('japaneseArtDisplay');
    display.innerHTML = `
      <span class="clickable-text hover-slide" data-gallery="IK">・いきもじ</span><br>
      <span class="clickable-text hover-slide" data-gallery="kai">・怪欲</span><br>
      <span class="clickable-text hover-slide" data-gallery="jap">・日本満開</span>
    `;
    attachGalleryEvents();
  }
});

document.getElementById('otherART').addEventListener('click', () => {
  const display = sections.other;
  if (display.innerHTML.trim() !== '') {
    display.innerHTML = '';
  } else {
    clearOthers('other');
    display.innerHTML = '<span class="clickable-text hover-slide" data-gallery="ON">・2019~2025</span>';
    attachGalleryEvents();
  }
});


window.addEventListener('DOMContentLoaded', () => {
  const elements = document.querySelectorAll('p, a, span, .name, .clickable-text');
  elements.forEach(el => {
    if (el.textContent.trim() !== '') {
      el.classList.add('hover-slide');
    }
  });
});
function attachGalleryEvents() {
  const clickableTexts = document.querySelectorAll('.clickable-text');
  clickableTexts.forEach(el => {
    el.addEventListener('click', () => {
      const galleryName = el.getAttribute('data-gallery');
      if (galleryName === 'IK') {
        openWideModal(galleries[galleryName]);
      } else {
        openModal(galleryName);
      }
    });
  });
}
// JOy art クリック時
document.getElementById('joyArtTrigger').addEventListener('click', function () {
  const modal = document.getElementById('galleryModal');
  const modalImage = document.getElementById('galleryImage');

  modalImage.src = 'img-07.png';
  modal.style.display = 'flex';

  // ナビゲーション非表示
  document.getElementById('modalPrev').style.display = 'none';
  document.getElementById('modalNext').style.display = 'none';

  // スライドショー停止
   // スライドショー停止
  pauseSlideshow(); // ← ✅定義済みの関数に変更

});


</script>




</body>
</html>
